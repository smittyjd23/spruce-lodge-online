<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Spruce Lodge â€” Guest Guide</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" href="favicon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="icons/icon-192.png">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#2d6a4f">
</head>
<body>

  <main>
    <header class="hero">
      <img src="assets/hero-cabin.jpg" alt="Vacation rental property">
      <div class="hero-overlay" aria-hidden="true"></div>
      <div class="hero-text">
        <h1>Spruce Lodge Guide</h1>
        <p>Everything you need for a perfect stay</p>
      </div>
    </header>

    <section aria-labelledby="quick-access-heading">
      <h2 id="quick-access-heading">Quick Access</h2>
      <ul>
          <li>
          <a href="https://www.mountaintoprentals.net/vacation-rental-home.asp?PageDataID=122483" class="card-link" target="_blank" rel="noopener noreferrer">
            <span class="icon" aria-hidden="true">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 20h.01"></path>
                <path d="M2 8.82a15 15 0 0 1 20 0"></path>
                <path d="M5 12.859a10 10 0 0 1 14 0"></path>
                <path d="M8.5 16.429a5 5 0 0 1 7 0"></path>
              </svg>
            </span>
            <span class="card-text">
              <strong>Spruce Lodge Rental Info</strong>
              <span>House description &amp; online booking</span>
            </span>
          </a>
        </li>
        <li>
          <a href="house.html" class="card-link">
            <span class="icon" aria-hidden="true">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 20h.01"></path>
                <path d="M2 8.82a15 15 0 0 1 20 0"></path>
                <path d="M5 12.859a10 10 0 0 1 14 0"></path>
                <path d="M8.5 16.429a5 5 0 0 1 7 0"></path>
              </svg>
            </span>
            <span class="card-text">
              <strong>Check-in Info</strong>
              <span>Door code, Wifi, and instructions</span>
            </span>
          </a>
        </li>
        <li>
          <a href="house.html#check-out-anchor" class="card-link">
            <span class="icon" aria-hidden="true">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4"></path>
                <path d="m21 2-9.6 9.6"></path>
                <circle cx="7.5" cy="15.5" r="5.5"></circle>
              </svg>
            </span>
            <span class="card-text">
              <strong>Check-out Info</strong>
              <span>What to do upon departure</span>
            </span>
          </a>
        </li>
      </ul>
    </section>

    <aside>
      <h3>Hello, Guests! ðŸ‘‹</h3>
      <p>We're thrilled to have you stay with us. This guide has everything you need â€” from WiFi passwords to local restaurant recommendations. Enjoy your stay!</p>
    </aside>
  </main>

  <nav aria-label="Main navigation">
    <a href="index.html" aria-current="page">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
        <polyline points="8,10 12,1 16,10"/>
        <polyline points="5,14 12,6 19,14"/>
        <polyline points="2,20 12,11 22,20"/>
        <line x1="12" y1="20" x2="12" y2="23"/>
      </svg>
      <span>Welcome</span>
    </a>
    <a href="house.html">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
        <polyline points="9 22 9 12 15 12 15 22"></polyline>
      </svg>
      <span>House</span>
    </a>
    <a href="food.html">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
        <path d="m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8"></path>
        <path d="M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7"></path>
        <path d="m2.1 21.8 6.4-6.3"></path>
        <path d="m19 5-7 7"></path>
      </svg>
      <span>Food</span>
    </a>
    <a href="activities.html">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
        <path d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"></path>
        <circle cx="12" cy="10" r="3"></circle>
      </svg>
      <span>Activities</span>
    </a>
    <a href="contact.html">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
        <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
      </svg>
      <span>Contact</span>
    </a>
  </nav>

  <div id="install-banner" class="install-banner" hidden>
    <span class="install-banner-icon" aria-hidden="true">
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>
      </svg>
    </span>
    <p class="install-banner-msg" id="install-banner-msg">Add to Home Screen for offline access</p>
    <div class="install-banner-actions">
      <button id="install-btn" type="button" class="install-accept-btn">Install</button>
      <button id="install-dismiss-btn" type="button" class="install-close-btn" aria-label="Dismiss">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
      </button>
    </div>
  </div>

  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js');
    }

    (function () {
      var banner  = document.getElementById('install-banner');
      var msg     = document.getElementById('install-banner-msg');
      var btn     = document.getElementById('install-btn');
      var dismiss = document.getElementById('install-dismiss-btn');
      var DISMISSED = 'pwa-install-dismissed';
      var deferred = null;

      function showBanner() {
        if (localStorage.getItem(DISMISSED)) return;
        banner.hidden = false;
      }

      // Android / Chrome â€” capture and hold the native install event
      window.addEventListener('beforeinstallprompt', function (e) {
        e.preventDefault();
        deferred = e;
        showBanner();
      });

      // Hide banner if installed via the browser's own UI
      window.addEventListener('appinstalled', function () {
        banner.hidden = true;
      });

      // iOS Safari â€” show manual share-sheet instructions
      var isIOS = /iphone|ipad|ipod/i.test(navigator.userAgent.toLowerCase());
      if (isIOS && !navigator.standalone) {
        msg.textContent = 'Tap the Share icon, then "Add to Home Screen"';
        btn.textContent = 'Got it';
        showBanner();
      }

      btn.addEventListener('click', function () {
        if (deferred) {
          // Android: trigger the native install prompt
          deferred.prompt();
          deferred.userChoice.then(function () {
            deferred = null;
            banner.hidden = true;
          });
        } else {
          // iOS: close without permanently dismissing so the hint
          // reappears next visit if the user hasn't installed yet
          banner.hidden = true;
        }
      });

      dismiss.addEventListener('click', function () {
        banner.hidden = true;
        localStorage.setItem(DISMISSED, '1');
      });
    })();
  </script>
</body>
</html>
